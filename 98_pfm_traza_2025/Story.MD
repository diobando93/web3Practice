# Supply Chain Tracker

> Decentralized supply chain tracking system built with Solidity, Foundry, Next.js, and Web3

## ğŸ¥ Demo Video

[Ver demostraciÃ³n en YouTube](https://www.youtube.com/watch?v=4TbbK-3A30w)

## ğŸ“‹ Ãndice

- [DescripciÃ³n](#descripciÃ³n)
- [CaracterÃ­sticas](#caracterÃ­sticas)
- [Arquitectura](#arquitectura)
- [TecnologÃ­as](#tecnologÃ­as)
- [InstalaciÃ³n](#instalaciÃ³n)
- [Uso](#uso)
- [Testing](#testing)
- [Roles del Sistema](#roles-del-sistema)
- [Flujo de Trabajo](#flujo-de-trabajo)
- [Capturas de Pantalla](#capturas-de-pantalla)
- [ContribuciÃ³n](#contribuciÃ³n)

## ğŸ“– DescripciÃ³n

Supply Chain Tracker es una aplicaciÃ³n descentralizada (DApp) que permite rastrear productos a lo largo de toda la cadena de suministro, desde la materia prima hasta el consumidor final. Utiliza blockchain para garantizar transparencia, inmutabilidad y trazabilidad completa de todos los productos.

### Problema que resuelve

- **Falta de transparencia** en cadenas de suministro tradicionales
- **Dificultad para rastrear** el origen de productos
- **Fraude y falsificaciÃ³n** de productos
- **PÃ©rdida de informaciÃ³n** entre intermediarios

### SoluciÃ³n

Una plataforma blockchain que:
- âœ… Registra cada paso del producto en la cadena
- âœ… Garantiza trazabilidad completa e inmutable
- âœ… Valida transferencias entre actores autorizados
- âœ… Permite al consumidor final verificar el origen

## âœ¨ CaracterÃ­sticas

### Smart Contract
- Sistema de roles (Admin, Producer, Factory, Retailer, Consumer)
- Registro y aprobaciÃ³n de usuarios
- CreaciÃ³n de tokens con relaciones padre-hijo
- Sistema de transferencias con aprobaciÃ³n bidireccional
- Trazabilidad completa del origen al destino
- **34 tests unitarios** con 100% de cobertura

### Frontend
- AutenticaciÃ³n con MetaMask
- Dashboard personalizado por rol
- GestiÃ³n completa de tokens
- Sistema de transferencias interactivo
- Panel de administraciÃ³n
- VisualizaciÃ³n de trazabilidad
- UI moderna y responsive

## ğŸ—ï¸ Arquitectura
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend  â”‚ â—„â”€â”€â”€â”€â–º â”‚ Smart Contractâ”‚ â—„â”€â”€â”€â”€â–º â”‚   Blockchainâ”‚
â”‚  (Next.js)  â”‚  Web3   â”‚   (Solidity)  â”‚         â”‚   (Anvil)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Estructura del Proyecto
```
supply-chain-tracker/
â”œâ”€â”€ sc/                     # Smart Contracts
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ SupplyChain.sol
â”‚   â”œâ”€â”€ test/
â”‚   â”‚   â””â”€â”€ SupplyChain.t.sol
â”‚   â””â”€â”€ script/
â”‚       â””â”€â”€ Deploy.s.sol
â”œâ”€â”€ web/                    # Frontend
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ app/            # PÃ¡ginas Next.js
â”‚       â”œâ”€â”€ components/     # Componentes React
â”‚       â”œâ”€â”€ contexts/       # Contexto Web3
â”‚       â”œâ”€â”€ hooks/          # Custom hooks
â”‚       â””â”€â”€ contracts/      # ABI + config
â””â”€â”€ docker-compose.yml      # Foundry container
```

## ğŸ› ï¸ TecnologÃ­as

### Backend (Blockchain)
- **Solidity** ^0.8.20 - Smart contract
- **Foundry** - Testing y deployment
- **Anvil** - Blockchain local

### Frontend
- **Next.js** 15 - Framework React
- **TypeScript** - Type safety
- **Tailwind CSS** - Estilos
- **Shadcn/ui** - Componentes UI
- **Ethers.js** v6 - InteracciÃ³n Web3
- **Sonner** - Notificaciones

## ğŸš€ InstalaciÃ³n

### Prerrequisitos

- Docker & Docker Compose
- Node.js 18+
- MetaMask (extensiÃ³n del navegador)

### Paso 1: Clonar el repositorio
```bash
git clone https://github.com/tu-usuario/supply-chain-tracker.git
cd supply-chain-tracker
```

### Paso 2: Levantar Anvil y desplegar contrato
```bash
# Levantar contenedor de Foundry
docker-compose up -d

# En otra terminal, iniciar Anvil
docker-compose exec foundry anvil --host 0.0.0.0

# En otra terminal, desplegar contrato
docker-compose exec foundry forge script script/Deploy.s.sol:DeploySupplyChain --rpc-url http://localhost:8545 --broadcast
```

### Paso 3: Configurar frontend
```bash
# Copiar direcciÃ³n del contrato desplegado
# Actualizar web/src/contracts/config.ts con la direcciÃ³n

cd web
npm install
npm run dev
```

### Paso 4: Configurar MetaMask

1. Agregar red personalizada:
   - **Network name:** Anvil Local
   - **RPC URL:** `http://127.0.0.1:8545`
   - **Chain ID:** `31337`
   - **Currency:** ETH

2. Importar cuenta de prueba:
```
   Private Key: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

### Paso 5: Abrir la aplicaciÃ³n

Navegar a [http://localhost:3000](http://localhost:3000)

## ğŸ“– Uso

### Como Producer

1. Conectar wallet y registrarse como Producer
2. Esperar aprobaciÃ³n del administrador
3. Crear tokens de materias primas
4. Transferir a Factory

### Como Factory

1. Recibir materias primas del Producer
2. Crear productos procesados (con parent token)
3. Transferir a Retailer

### Como Retailer

1. Recibir productos de Factory
2. Crear productos para retail
3. Transferir a Consumer

### Como Consumer

1. Recibir productos
2. Ver trazabilidad completa del origen

### Como Admin

1. Ver usuarios pendientes
2. Aprobar/Rechazar registros
3. Supervisar el sistema

## ğŸ§ª Testing
```bash
# Ejecutar todos los tests
docker-compose exec foundry forge test

# Tests con verbosity
docker-compose exec foundry forge test -vv

# Test especÃ­fico
docker-compose exec foundry forge test --match-test testRegister -vvv

# Coverage
docker-compose exec foundry forge coverage
```

**Resultado:** 34/34 tests pasando âœ…

## ğŸ‘¥ Roles del Sistema

| Rol | DescripciÃ³n | Permisos |
|-----|-------------|----------|
| **Admin** | Administrador del sistema | Aprobar/rechazar usuarios, supervisar |
| **Producer** | Productor de materias primas | Crear raw materials, transferir a Factory |
| **Factory** | Procesador/Manufacturero | Recibir materias primas, crear productos, transferir a Retailer |
| **Retailer** | Distribuidor/Minorista | Recibir productos, crear paquetes retail, transferir a Consumer |
| **Consumer** | Consumidor final | Recibir productos, ver trazabilidad completa |

## ğŸ”„ Flujo de Trabajo
```
1. Producer crea "Organic Wheat" (1000kg)
   â†“ (Transfer 500kg)
2. Factory recibe y crea "Whole Wheat Flour" (400kg)
   â†“ (Transfer 200kg)
3. Retailer recibe y crea "Premium Flour Bags" (200 units)
   â†“ (Transfer 50 units)
4. Consumer recibe y ve trazabilidad:
   Organic Wheat â†’ Whole Wheat Flour â†’ Premium Flour Bags
```

## ğŸ¤ ContribuciÃ³n

Este es un proyecto educativo desarrollado para el mÃ³dulo de ProgramaciÃ³n Full Stack Modular (PFM).

### Autor

**Tu Nombre**
- GitHub: [@tu-usuario](https://github.com/diobando93)
- LinkedIn: [Tu Perfil](https://www.linkedin.com/in/israel-obando/)

## ğŸ“„ Licencia

MIT License - ver [LICENSE](LICENSE) para mÃ¡s detalles

## ğŸ™ Agradecimientos

- Foundry por el excelente framework de testing
- Shadcn/ui por los componentes
- La comunidad de Web3 por la documentaciÃ³n

---

**â­ Si te gusta este proyecto, dale una estrella!**